{
  "info": {
    "_postman_id": "d4053ae8-d77c-45bf-bfe0-b4f4e6a3124d",
    "name": "SMU-Guide API (Backend) - Updated",
    "description": "Postman collection for SMU-Guide backend: auth, mentors, availability, appointments, forum, and messaging.\n\nUpdated to match actual implementation (December 2025).\n\nUsage:\n- Set `baseUrl` to your API base (e.g. http://localhost:4000).\n- Register or login via /api/auth to get a JWT token.\n- Copy token to the `token` variable so protected routes work.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:4000"
    },
    {
      "key": "token",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "POST /api/auth/register – Register new user",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "register"
              ]
            },
            "description": "Register a new user (student/mentor/professor/admin).\nReturns JWT + basic user info.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Student\",\n  \"email\": \"student@smu.edu\",\n  \"password\": \"Test123!\",\n  \"role\": \"STUDENT\",\n  \"department\": \"Computer Science\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "POST /api/auth/login – Login and get JWT",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "description": "Login with email and password.\nReturns JWT token and user info.\nCopy the `token` from the response into the collection variable `token`.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@smu.edu\",\n  \"password\": \"Test123!\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "GET /api/auth/me – Get current user profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "me"
              ]
            },
            "description": "Get the currently authenticated user's basic profile (`id`, `name`, `email`, `role`)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Mentors",
      "item": [
        {
          "name": "GET /api/mentors – List mentors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/mentors?page=1&limit=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors"
              ],
              "query": [
                {
                  "key": "department",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Public endpoint to list mentor users with their basic info and mentor profile.\nReturns paginated response: {data: [], total, page, limit}.\nOptional query params: department, search, page, limit."
          },
          "response": []
        },
        {
          "name": "GET /api/mentors/:mentorId – Get mentor details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/5",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "5"
              ]
            },
            "description": "Public endpoint to get details for a single mentor by user ID.\nIncludes full user info and mentor profile.\nReplace `5` with a real mentor user ID."
          },
          "response": []
        },
        {
          "name": "GET /api/mentors/:mentorId/availability – View mentor availability",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/5/availability",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "5",
                "availability"
              ]
            },
            "description": "Public endpoint to view a mentor's availability slots.\nReplace `5` with the mentor's user ID.\nReturns array of slots with `dayOfWeek`, `startTime`, `endTime`."
          },
          "response": []
        },
        {
          "name": "GET /api/mentors/me – Get my mentor profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "me"
              ]
            },
            "description": "Get the authenticated mentor's MentorProfile.\nRequires user with role MENTOR."
          },
          "response": []
        },
        {
          "name": "PUT /api/mentors/me – Create/update my mentor profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "me"
              ]
            },
            "description": "Create or update the authenticated mentor's profile.\nAll fields are optional; only provided fields will be set/updated.\nRequires user with role MENTOR.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"graduationYear\": 2024,\n  \"currentCompany\": \"Tech Corp\",\n  \"currentRole\": \"Senior Developer\",\n  \"bioExtended\": \"Experienced software engineer specializing in full-stack development.\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "POST /api/mentors/me/availability – Add availability slots",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/me/availability",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "me",
                "availability"
              ]
            },
            "description": "Add availability slot(s) for the authenticated mentor.\nCan send single object or array of objects.\nEach slot has `dayOfWeek` (0–6), `startTime`, `endTime` in HH:MM format.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dayOfWeek\": 1,\n  \"startTime\": \"09:00\",\n  \"endTime\": \"17:00\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "POST /api/mentors/me/availability – Add multiple slots",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mentors/me/availability",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "mentors",
                "me",
                "availability"
              ]
            },
            "description": "Add multiple availability slots at once.\nSend as array of slot objects.",
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"dayOfWeek\": 1,\n    \"startTime\": \"09:00\",\n    \"endTime\": \"11:00\"\n  },\n  {\n    \"dayOfWeek\": 3,\n    \"startTime\": \"14:00\",\n    \"endTime\": \"16:00\"\n  }\n]"
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Appointments",
      "item": [
        {
          "name": "POST /api/appointments – Create appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments"
              ]
            },
            "description": "Create a new appointment between the authenticated student and a mentor.\nRequires role STUDENT.\nDate must be in the future.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mentorId\": 5,\n  \"startsAt\": \"2025-12-10T10:00:00Z\",\n  \"endsAt\": \"2025-12-10T11:00:00Z\",\n  \"notes\": \"Discussion about career path\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "GET /api/appointments – List my appointments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments?page=1&limit=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "List appointments for the authenticated user.\nSTUDENT: appointments as student, MENTOR: as mentor.\nReturns paginated response.\nOptional `status` filter (PENDING, CONFIRMED, COMPLETED, CANCELLED)."
          },
          "response": []
        },
        {
          "name": "GET /api/appointments/:id – Appointment details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments",
                "1"
              ]
            },
            "description": "Get details of a specific appointment by ID.\nAccessible to the student or mentor involved."
          },
          "response": []
        },
        {
          "name": "PATCH /api/appointments/:id/cancel – Cancel appointment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/1/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments",
                "1",
                "cancel"
              ]
            },
            "description": "Cancel an appointment.\nAllowed for the student or mentor.\nNot allowed if already CANCELLED or COMPLETED."
          },
          "response": []
        },
        {
          "name": "PATCH /api/appointments/:id/complete – Mark appointment completed",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/1/complete",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments",
                "1",
                "complete"
              ]
            },
            "description": "Mark an appointment as COMPLETED.\nOnly the mentor can perform this action.\nNot allowed if the appointment is CANCELLED."
          },
          "response": []
        },
        {
          "name": "PATCH /api/appointments/:id/confirm – Confirm appointment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/appointments/1/confirm",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "appointments",
                "1",
                "confirm"
              ]
            },
            "description": "Confirm an appointment (change status from PENDING to CONFIRMED).\nOnly the mentor can perform this action."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Forum",
      "item": [
        {
          "name": "GET /api/forum/topics – List topics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/forum/topics",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "topics"
              ]
            },
            "description": "Public endpoint to list forum topics.\nReturns array of topics."
          },
          "response": []
        },
        {
          "name": "GET /api/forum/topics/:id – Get topic details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/forum/topics/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "topics",
                "1"
              ]
            },
            "description": "Public endpoint to get a single topic by ID."
          },
          "response": []
        },
        {
          "name": "POST /api/forum/topics – Create topic (admin only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/forum/topics",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "topics"
              ]
            },
            "description": "Create a new forum topic.\nRequires role ADMIN.\nUse this to categorize questions.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Career Advice\",\n  \"description\": \"Questions about career paths and job search.\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "GET /api/forum/questions – List questions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/forum/questions?page=1&limit=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "questions"
              ],
              "query": [
                {
                  "key": "topicId",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Public endpoint to list questions.\nReturns paginated response.\nOptional query params: topicId, page, limit."
          },
          "response": []
        },
        {
          "name": "GET /api/forum/questions/:id – Question details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/forum/questions/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "questions",
                "1"
              ]
            },
            "description": "Public endpoint to get a single question by ID, including topic, asker, and all answers."
          },
          "response": []
        },
        {
          "name": "POST /api/forum/questions – Create question",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/forum/questions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "questions"
              ]
            },
            "description": "Create a new question under a topic.\nRequires any authenticated user.\nProvide topicId, title, and content.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"topicId\": 1,\n  \"title\": \"How to prepare for technical interviews?\",\n  \"content\": \"I have interviews coming up. What should I focus on?\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "POST /api/forum/questions/:id/answers – Add answer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/forum/questions/1/answers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "questions",
                "1",
                "answers"
              ]
            },
            "description": "Add an answer to a specific question.\nRequires any authenticated user.\nProvide content with your answer text.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Focus on data structures, algorithms, and system design. Practice on LeetCode!\"\n}"
            }
          },
          "response": []
        },
        {
          "name": "PATCH /api/forum/answers/:answerId/accept – Accept answer",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/forum/answers/1/accept",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "forum",
                "answers",
                "1",
                "accept"
              ]
            },
            "description": "Mark an answer as accepted for its question.\nOnly the question owner can accept.\nOther answers for the same question will be marked not accepted."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Messages",
      "item": [
        {
          "name": "GET /api/messages/conversations – List my conversations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages/conversations",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "messages",
                "conversations"
              ]
            },
            "description": "List all conversations where the authenticated user is a participant.\nEach conversation includes participants."
          },
          "response": []
        },
        {
          "name": "POST /api/messages/conversations – Start conversation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages/conversations",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "messages",
                "conversations"
              ]
            },
            "description": "Start a new direct conversation with another user.\nIf a direct conversation already exists, that one is returned.\nProvide otherUserId (other user's ID).",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"otherUserId\": 5\n}"
            }
          },
          "response": []
        },
        {
          "name": "GET /api/messages/conversations/:id – Conversation info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages/conversations/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "messages",
                "conversations",
                "1"
              ]
            },
            "description": "Get info about a specific conversation, including participants.\nOnly participants can access this conversation."
          },
          "response": []
        },
        {
          "name": "GET /api/messages/conversations/:id/messages – List messages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages/conversations/1/messages?page=1&limit=50",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "messages",
                "conversations",
                "1",
                "messages"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "List all messages in a conversation, ordered by creation time.\nOnly participants can view messages.\nSupports pagination."
          },
          "response": []
        },
        {
          "name": "POST /api/messages/conversations/:id/messages – Send message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/messages/conversations/1/messages",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "messages",
                "conversations",
                "1",
                "messages"
              ]
            },
            "description": "Send a new message in the specified conversation.\nAuthenticated user must be a participant.\nProvide content as the message text.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Hi, I wanted to ask about your availability this week.\"\n}"
            }
          },
          "response": []
        }
      ]
    }
  ]
}